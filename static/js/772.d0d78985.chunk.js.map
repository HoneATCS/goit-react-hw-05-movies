{"version":3,"file":"static/js/772.d0d78985.chunk.js","mappings":"2UAEMA,EAAW,gCACXC,EAAU,mCACHC,EAAU,kCAEVC,EAAW,mCAAG,6GAAOC,EAAP,+BAAc,EACjCC,EADmB,UACAL,EADA,sCACsCC,EADtC,iBACsDG,GADtD,kBAGFE,EAAAA,GAAAA,IAAUD,GAHR,cAGjBE,EAHiB,gBAIJA,EAAOC,KAJH,cAIjBA,EAJiB,yBAKhBA,GALgB,kCAOvBC,QAAQC,IAAR,MAPuB,0DAAH,qDAWXC,EAAY,mCAAG,WAAOC,GAAP,gGAAaR,EAAb,+BAAoB,EACxCC,EADoB,UACDL,EADC,gCAC+BC,EAD/B,gCAC8DG,EAD9D,kBAC4EQ,EAD5E,0CAGHN,EAAAA,GAAAA,IAAUD,GAHP,cAGlBE,EAHkB,gBAILA,EAAOC,KAJF,cAIlBA,EAJkB,yBAKjBA,GALiB,kCAOxBC,QAAQC,IAAR,MAPwB,0DAAH,sDAWZG,EAAmB,mCAAG,WAAMC,GAAN,kFAC3BT,EAD2B,UACRL,EADQ,iBACSc,EADT,oBACuBb,EADvB,qCAGVK,EAAAA,GAAAA,IAAUD,GAHA,cAGzBE,EAHyB,gBAIZA,EAAOC,KAJK,cAIzBA,EAJyB,yBAKxBA,GALwB,kCAO/BC,QAAQC,IAAR,MAP+B,0DAAH,sDAWnBK,EAAiB,mCAAG,WAAMD,GAAN,kFACzBT,EADyB,UACNL,EADM,iBACWc,EADX,4BACiCb,EADjC,qCAGRK,EAAAA,GAAAA,IAAUD,GAHF,cAGvBE,EAHuB,gBAIVA,EAAOC,KAJG,cAIvBA,EAJuB,yBAKtBA,GALsB,kCAO7BC,QAAQC,IAAR,MAP6B,0DAAH,sDAWjBM,EAAmB,mCAAG,WAAMF,GAAN,kFAC3BT,EAD2B,UACRL,EADQ,iBACSc,EADT,4BAC+Bb,EAD/B,qCAGVK,EAAAA,GAAAA,IAAUD,GAHA,cAGzBE,EAHyB,gBAIZA,EAAOC,KAJK,cAIzBA,EAJyB,yBAKxBA,GALwB,kCAO/BC,QAAQC,IAAR,MAP+B,0DAAH,qD,sHC5CnBO,EAAY,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAEpBC,EAA4B,OADjBC,EAAAA,EAAAA,MACIC,SAAT,UAAwC,GACpD,OACE,eAAIC,UAAWC,EAAAA,EAAAA,KAAf,UACE,UAAC,KAAD,CAAMC,GAAE,UAAKL,GAAL,OAAWD,EAAMJ,IAAMQ,UAAWC,EAAAA,EAAAA,KAA1C,WACE,gBACEE,IAAKP,EAAMQ,YAAcxB,EAAAA,GAAUgB,EAAMQ,YAAcC,EACvDC,IAAKV,EAAMW,MACXP,UAAWC,EAAAA,EAAAA,OAEb,gBAAKD,UAAWC,EAAAA,EAAAA,KAAhB,UACE,wBAAKL,EAAMW,cAKpB,C,6ICtBD,EAAuB,mBAAvB,EAAkD,oBAAlD,EAA+E,qB,SCElEC,EAAO,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,OAAQC,EAAgC,EAAhCA,iBAAkBC,EAAc,EAAdA,QAK/C,OACE,kBACEnB,GAAG,cACHoB,aAAa,MACbC,SAAUJ,EACVT,UAAWc,EAJb,WAME,kBACEd,UAAWc,EACXC,KAAK,OACLzB,KAAK,OACL0B,WAAS,EACTC,YAAY,gBACZC,SAjBW,SAAAC,GACfR,EAAQQ,EAAMC,OAAOC,MAAMC,cAC5B,EAgBKD,MAAOX,KAET,mBAAQK,KAAK,SAASf,UAAWc,EAAjC,sBAKL,E,8BC5BD,EAAoB,uBC4EpB,EApEoB,WAAO,IAAD,EACxB,GAAgDS,EAAAA,EAAAA,UAAS,IAAzD,eAAOb,EAAP,KAAyBc,EAAzB,KACA,GAA4BD,EAAAA,EAAAA,UAAS,IAArC,eAAOE,EAAP,KAAeC,EAAf,KACA,GAA0BH,EAAAA,EAAAA,WAAS,GAAnC,eAAOI,EAAP,KAAcC,EAAd,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA4BR,EAAAA,EAAAA,WAAS,GAArC,eAAOS,EAAP,KAAeC,EAAf,KACMC,EAAU,UAAGJ,EAAaK,IAAI,eAApB,QAA+B,GACzCC,EAAUC,OAAOC,SAASC,OAAOC,MAAM,KAAK,IAElDC,EAAAA,EAAAA,YAAU,YACH/B,GAAqB0B,IAQ1BM,EALKhC,GACO0B,EAMb,GAAE,CAAC1B,IAEJ,IAUMgC,EAAS,mCAAG,WAAMpD,GAAN,gFAChBsC,GAAS,GACTK,GAAU,GAFM,UAGG5C,EAAAA,EAAAA,IAAaC,GAHhB,cAGVJ,EAHU,gBAIMA,EAAKyD,QAJX,OAIVA,EAJU,OAKhBxD,QAAQC,IAAIuD,GACZjB,EAAUiB,GACLA,EAAQC,QACXhB,GAAS,GAEXK,GAAU,GAVM,4CAAH,sDAaf,OACE,2BACE,gCACE,SAACzB,EAAD,CACEC,OA3BS,SAAAU,GACfA,EAAM0B,iBACNrB,EAAoBL,EAAMC,OAAO9B,KAAK+B,MACvC,EAyBOX,iBAAkBwB,EAClBvB,QAxBQ,SAAArB,GAEdyC,EAD4B,KAATzC,EAAc,CAAEA,KAAAA,GAAS,CAAC,EAE9C,IAuBM0C,IAAU,SAACc,EAAA,EAAD,IACVnB,IACC,cAAG3B,UAAW+C,EAAd,yDAIF,eAAI/C,UAAWC,EAAAA,EAAAA,KAAf,SACGwB,EAAOuB,KAAI,SAAApD,GAAK,OACf,SAACD,EAAA,EAAD,CAA0BC,MAAOA,GAAjBA,EAAMJ,GADP,UAO1B,C,qBC3ED,KAAgB,KAAO,wBAAwB,KAAO,wBAAwB,KAAO,wBAAwB,KAAO,wBAAwB,IAAM,uBAAuB,KAAO,wBAAwB,kBAAoB,qC","sources":["components/SearchAPI/SearchAPI.js","pages/MovieList/MovieItem.jsx","webpack://react-homework-template/./src/components/Form/Form.module.scss?dea5","components/Form/Form.jsx","webpack://react-homework-template/./src/pages/MovieSearch/MovieSearch.module.scss?3436","pages/MovieSearch/MovieSearch.jsx","webpack://react-homework-template/./src/pages/MovieList/MovieList.module.scss?78f4"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'd927ad5252ec098db20e3d62a3629292';\nexport const IMG_URL = 'https://image.tmdb.org/t/p/w500';\n\nexport const SearchTrend = async (page = 1) => {\n  const serverDataURL = `${BASE_URL}trending/movie/day?api_key=${API_KEY}&page=${page}`;\n  try {\n    const server = await axios.get(serverDataURL);\n    const data = await server.data;\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const SearchMovies = async (name, page = 1) => {\n  const serverDataURL = `${BASE_URL}search/movie?api_key=${API_KEY}&language=en-US&page=${page}&query=${name}&include_adult=false`;\n  try {\n    const server = await axios.get(serverDataURL);\n    const data = await server.data;\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const SearchMoviesDetails = async id => {\n  const serverDataURL = `${BASE_URL}movie/${id}?api_key=${API_KEY}&language=en-US`;\n  try {\n    const server = await axios.get(serverDataURL);\n    const data = await server.data;\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const SearchMoviesActor = async id => {\n  const serverDataURL = `${BASE_URL}movie/${id}/credits?api_key=${API_KEY}&language=en-US`;\n  try {\n    const server = await axios.get(serverDataURL);\n    const data = await server.data;\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const SearchMoviesReviews = async id => {\n  const serverDataURL = `${BASE_URL}movie/${id}/reviews?api_key=${API_KEY}&language=en-US`;\n  try {\n    const server = await axios.get(serverDataURL);\n    const data = await server.data;\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n","// import PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport { IMG_URL } from 'components/SearchAPI/SearchAPI';\nimport MovieListSCSS from './MovieList.module.scss';\nimport defoltImg from 'components/img/default.jpg';\n\nexport const MovieItem = ({ movie }) => {\n  const location = useLocation();\n  const url = location.pathname === '/' ? `movies/` : '';\n  return (\n    <li className={MovieListSCSS.item}>\n      <Link to={`${url}${movie.id}`} className={MovieListSCSS.link}>\n        <img\n          src={movie.poster_path ? IMG_URL + movie.poster_path : defoltImg}\n          alt={movie.title}\n          className={MovieListSCSS.img}\n        />\n        <div className={MovieListSCSS.info}>\n          <h3>{movie.title}</h3>\n        </div>\n      </Link>\n    </li>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Form_form__psS5c\",\"input\":\"Form_input__EwUhk\",\"submit\":\"Form_submit__khcqq\"};","import PropTypes from 'prop-types';\nimport FormSCSS from './Form.module.scss';\n\nexport const Form = ({ submit, searchMovieValue, onChang }) => {\n  const onChange = event => {\n    onChang(event.target.value.toLowerCase());\n  };\n\n  return (\n    <form\n      id=\"search-form\"\n      autoComplete=\"off\"\n      onSubmit={submit}\n      className={FormSCSS.form}\n    >\n      <input\n        className={FormSCSS.input}\n        type=\"text\"\n        name=\"name\"\n        autoFocus\n        placeholder=\"Search movies\"\n        onChange={onChange}\n        value={searchMovieValue}\n      />\n      <button type=\"submit\" className={FormSCSS.submit}>\n        Search\n      </button>\n    </form>\n  );\n};\nForm.propTypes = {\n  submit: PropTypes.func.isRequired,\n  searchMovieValue: PropTypes.string.isRequired,\n  onChang: PropTypes.func.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"p\":\"MovieSearch_p__MwZHn\"};","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { SearchMovies } from '../../components/SearchAPI/SearchAPI';\nimport { Form } from 'components/Form/Form';\nimport { MovieItem } from '../MovieList/MovieItem';\nimport { Loader } from 'components/Loader/Loader';\nimport MovieListSCSS from '../MovieList/MovieList.module.scss';\nimport MovieSearchSCSS from './MovieSearch.module.scss';\n\nconst MovieSearch = () => {\n  const [searchMovieValue, setSearchMovieValue] = useState('');\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [loader, setLoader] = useState(false);\n  const moviesName = searchParams.get('name') ?? '';\n  const histori = window.location.search.split('=')[1];\n\n  useEffect(() => {\n    if (!searchMovieValue && !histori) {\n      return;\n    }\n    if (!searchMovieValue) {\n      serverAPI(histori);\n      return;\n    }\n\n    serverAPI(searchMovieValue);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchMovieValue]);\n\n  const onSubmit = event => {\n    event.preventDefault();\n    setSearchMovieValue(event.target.name.value);\n  };\n\n  const onChang = name => {\n    const nextParams = name !== '' ? { name } : {};\n    setSearchParams(nextParams);\n  };\n\n  const serverAPI = async name => {\n    setError(false);\n    setLoader(true);\n    const data = await SearchMovies(name);\n    const results = await data.results;\n    console.log(results);\n    setMovies(results);\n    if (!results.length) {\n      setError(true);\n    }\n    setLoader(false);\n  };\n\n  return (\n    <main>\n      <section>\n        <Form\n          submit={onSubmit}\n          searchMovieValue={moviesName}\n          onChang={onChang}\n        />\n        {loader && <Loader />}\n        {error && (\n          <p className={MovieSearchSCSS.p}>\n            Sorry, we didn't find anything. Try again.\n          </p>\n        )}\n        <ul className={MovieListSCSS.list}>\n          {movies.map(movie => (\n            <MovieItem key={movie.id} movie={movie}></MovieItem>\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n};\nexport default MovieSearch;\n","// extracted by mini-css-extract-plugin\nexport default {\"text\":\"MovieList_text__6RJQy\",\"list\":\"MovieList_list__2rnyn\",\"item\":\"MovieList_item__NkPkZ\",\"link\":\"MovieList_link__Vh6rU\",\"img\":\"MovieList_img__eH6st\",\"info\":\"MovieList_info__eZ7jA\",\"MoviesDetailsSCSS\":\"MovieList_MoviesDetailsSCSS__p4Y5h\"};"],"names":["BASE_URL","API_KEY","IMG_URL","SearchTrend","page","serverDataURL","axios","server","data","console","log","SearchMovies","name","SearchMoviesDetails","id","SearchMoviesActor","SearchMoviesReviews","MovieItem","movie","url","useLocation","pathname","className","MovieListSCSS","to","src","poster_path","defoltImg","alt","title","Form","submit","searchMovieValue","onChang","autoComplete","onSubmit","FormSCSS","type","autoFocus","placeholder","onChange","event","target","value","toLowerCase","useState","setSearchMovieValue","movies","setMovies","error","setError","useSearchParams","searchParams","setSearchParams","loader","setLoader","moviesName","get","histori","window","location","search","split","useEffect","serverAPI","results","length","preventDefault","Loader","MovieSearchSCSS","map"],"sourceRoot":""}