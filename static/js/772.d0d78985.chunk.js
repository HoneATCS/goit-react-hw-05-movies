"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[772],{4831:function(e,t,n){n.d(t,{F2:function(){return v},PF:function(){return l},R8:function(){return p},bV:function(){return u},gY:function(){return f},il:function(){return h}});var r=n(5861),a=n(4687),c=n.n(a),s=n(1044),i="https://api.themoviedb.org/3/",o="d927ad5252ec098db20e3d62a3629292",u="https://image.tmdb.org/t/p/w500",l=function(){var e=(0,r.Z)(c().mark((function e(){var t,n,r,a,u=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:1,n="".concat(i,"trending/movie/day?api_key=").concat(o,"&page=").concat(t),e.prev=2,e.next=5,s.ZP.get(n);case 5:return r=e.sent,e.next=8,r.data;case 8:return a=e.sent,e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a,u,l=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:1,r="".concat(i,"search/movie?api_key=").concat(o,"&language=en-US&page=").concat(n,"&query=").concat(t,"&include_adult=false"),e.prev=2,e.next=5,s.ZP.get(r);case 5:return a=e.sent,e.next=8,a.data;case 8:return u=e.sent,e.abrupt("return",u);case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(i,"movie/").concat(t,"?api_key=").concat(o,"&language=en-US"),e.prev=1,e.next=4,s.ZP.get(n);case 4:return r=e.sent,e.next=7,r.data;case 7:return a=e.sent,e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(i,"movie/").concat(t,"/credits?api_key=").concat(o,"&language=en-US"),e.prev=1,e.next=4,s.ZP.get(n);case 4:return r=e.sent,e.next=7,r.data;case 7:return a=e.sent,e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(i,"movie/").concat(t,"/reviews?api_key=").concat(o,"&language=en-US"),e.prev=1,e.next=4,s.ZP.get(n);case 4:return r=e.sent,e.next=7,r.data;case 7:return a=e.sent,e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()},3842:function(e,t,n){n.d(t,{H:function(){return u}});var r=n(7689),a=n(1087),c=n(4831),s=n(3892),i=n(5025),o=n(184),u=function(e){var t=e.movie,n="/"===(0,r.TH)().pathname?"movies/":"";return(0,o.jsx)("li",{className:s.Z.item,children:(0,o.jsxs)(a.rU,{to:"".concat(n).concat(t.id),className:s.Z.link,children:[(0,o.jsx)("img",{src:t.poster_path?c.bV+t.poster_path:i,alt:t.title,className:s.Z.img}),(0,o.jsx)("div",{className:s.Z.info,children:(0,o.jsx)("h3",{children:t.title})})]})})}},1772:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r=n(5861),a=n(9439),c=n(4687),s=n.n(c),i=n(2791),o=n(1087),u=n(4831),l="Form_form__psS5c",p="Form_input__EwUhk",f="Form_submit__khcqq",v=n(184),h=function(e){var t=e.submit,n=e.searchMovieValue,r=e.onChang;return(0,v.jsxs)("form",{id:"search-form",autoComplete:"off",onSubmit:t,className:l,children:[(0,v.jsx)("input",{className:p,type:"text",name:"name",autoFocus:!0,placeholder:"Search movies",onChange:function(e){r(e.target.value.toLowerCase())},value:n}),(0,v.jsx)("button",{type:"submit",className:f,children:"Search"})]})},m=n(3842),d=n(1831),_=n(3892),g="MovieSearch_p__MwZHn",x=function(){var e,t=(0,i.useState)(""),n=(0,a.Z)(t,2),c=n[0],l=n[1],p=(0,i.useState)([]),f=(0,a.Z)(p,2),x=f[0],Z=f[1],k=(0,i.useState)(!1),w=(0,a.Z)(k,2),b=w[0],y=w[1],S=(0,o.lr)(),j=(0,a.Z)(S,2),M=j[0],N=j[1],C=(0,i.useState)(!1),L=(0,a.Z)(C,2),P=L[0],U=L[1],F=null!==(e=M.get("name"))&&void 0!==e?e:"",H=window.location.search.split("=")[1];(0,i.useEffect)((function(){(c||H)&&V(c||H)}),[c]);var V=function(){var e=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!1),U(!0),e.next=4,(0,u.R8)(t);case 4:return n=e.sent,e.next=7,n.results;case 7:r=e.sent,console.log(r),Z(r),r.length||y(!0),U(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,v.jsx)("main",{children:(0,v.jsxs)("section",{children:[(0,v.jsx)(h,{submit:function(e){e.preventDefault(),l(e.target.name.value)},searchMovieValue:F,onChang:function(e){N(""!==e?{name:e}:{})}}),P&&(0,v.jsx)(d.a,{}),b&&(0,v.jsx)("p",{className:g,children:"Sorry, we didn't find anything. Try again."}),(0,v.jsx)("ul",{className:_.Z.list,children:x.map((function(e){return(0,v.jsx)(m.H,{movie:e},e.id)}))})]})})}},3892:function(e,t){t.Z={text:"MovieList_text__6RJQy",list:"MovieList_list__2rnyn",item:"MovieList_item__NkPkZ",link:"MovieList_link__Vh6rU",img:"MovieList_img__eH6st",info:"MovieList_info__eZ7jA",MoviesDetailsSCSS:"MovieList_MoviesDetailsSCSS__p4Y5h"}},5025:function(e,t,n){e.exports=n.p+"static/media/default.6616d98ce60260ddbb70.jpg"}}]);
//# sourceMappingURL=772.d0d78985.chunk.js.map